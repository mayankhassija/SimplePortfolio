<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
<meta charset="utf-8">
<meta name="color-scheme" content="light dark">
<meta name="google" value="notranslate">

<script>
function addRow(name, url, isdir) {
  if (name == "." || name == ".." || name.toLowerCase() === "index.html")
    return;

  var root = document.location.pathname;
  if (!root.endsWith("/"))
    root += "/";

  var tbody = document.getElementById("tbody");
  var row = document.createElement("tr");
  var file_cell = document.createElement("td");
  var link = document.createElement("a");

  link.className = isdir ? "icon dir" : "icon file";

  if (isdir) {
    name = name + "/";
    url = url + "/";
  } else {
    link.draggable = "true";
    link.addEventListener("dragstart", onDragStart, false);
  }

  link.innerText = name;
  link.href = root + url;

  file_cell.appendChild(link);
  row.appendChild(file_cell);
  tbody.appendChild(row);
}

function onDragStart(e) {
  var el = e.srcElement;
  var name = el.innerText.replace(":", "");
  var download_url_data = "application/octet-stream:" + name + ":" + el.href;
  e.dataTransfer.setData("DownloadURL", download_url_data);
  e.dataTransfer.effectAllowed = "copy";
}

function start() {
  var header = document.getElementById("header");
  var url = document.location.href;
  var folder = url.endsWith("index.html") ? url.slice(0, url.lastIndexOf("index.html")) : url;
  header.innerText = "Index of " + folder;
  document.getElementById("title").innerText = header.innerText;
}

function onHasParentDirectory() {
  var box = document.getElementById("parentDirLinkBox");
  var rootUrl = "https://mayankhassija.github.io/SimplePortfolio/";
  var homeUrls = [rootUrl, rootUrl + "index.html"];
  if (homeUrls.includes(document.location.href)) {
    box.style.display = "none";
    return;
  }
  box.style.display = "block";
  var link = document.getElementById("parentDirLink");
  link.href = rootUrl;
}

function addHandlers(element, column) {
  element.onclick = () => {};
}
function onLoad() {
  addHandlers(document.getElementById('nameColumnHeader'), 0);
}
window.addEventListener('DOMContentLoaded', onLoad);
</script>

<style>
h1 {
  border-bottom: 1px solid #c0c0c0;
  margin-bottom: 10px;
  padding-bottom: 10px;
  white-space: nowrap;
}
table { border-collapse: collapse; }
th { cursor: pointer; }
a.icon { text-decoration: none; user-select: auto; padding-left: 1.5em; }
a.icon:hover { text-decoration: underline; }
a.file { background:url("data:image/png;base64,...") left top no-repeat; }
a.dir { background:url("data:image/png;base64,...") left top no-repeat; }
a.up { background:url("data:image/png;base64,...") left top no-repeat; }
#parentDirLinkBox { margin-bottom: 10px; padding-bottom: 10px; }
</style>

<title id="title"></title>
</head>

<body>
<h1 id="header">Index of LOCATION</h1>

<div id="parentDirLinkBox" style="display:none">
  <a id="parentDirLink" class="icon up">
    <span id="parentDirText">[parent directory]</span>
  </a>
</div>

<table>
  <thead>
    <tr class="header" id="theader">
      <th id="nameColumnHeader" tabindex=0 role="button">Name</th>
    </tr>
  </thead>
  <tbody id="tbody">
  </tbody>
</table>

<script>
start();
onHasParentDirectory();

// Add project files only
addRow("2000's website.html", "2000's%20website.html", 0);
addRow("cool particles.html", "cool%20particles.html", 0);
</script>
</body>
</html>
